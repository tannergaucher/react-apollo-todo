{"version":3,"file":"static/webpack/static/development/pages/index.js.b6e739cf14cec9475acb.hot-update.js","sources":["webpack:///./components/UpdateTodo.js"],"sourcesContent":["import React from 'react'\nimport { Mutation } from 'react-apollo'\nimport gql from 'graphql-tag'\n\nimport Error from './ErrorMessage'\n\nconst UPDATE_TODO_MUTATION = gql`\n  mutation UPDATE_TODO_MUTATION($id: ID!, $task: String) {\n    updateTodo(id: $id, task: $task) {\n      id\n      task\n    }\n  }\n`\n\nclass UpdateTodo extends React.Component {\n  state = {}\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n\n  updateTodo = async (e, updateTodoMutation) => {\n    e.preventDefault()\n    console.log('updating todo')\n    console.log(this.props.id)\n    const res = await updateTodoMutation({\n      variables: {\n        id: this.props.id,\n        ...this.state\n      }\n    })\n    console.log('updated')\n    this.props.handleToggle()\n  }\n\n  render() {\n    return (\n      <Mutation mutation={UPDATE_TODO_MUTATION} variables={this.state}>\n        {(updateTodo, { loading, error }) => (\n          <form onSubmit={e => this.updateTodo(e, updateTodo)}>\n            <Error error={error} />\n            <fieldset disabled={loading}>\n              <input\n                name=\"task\"\n                defaultValue={this.props.task}\n                onChange={this.handleChange}\n              />\n              <button type=\"submit\">save</button>\n            </fieldset>\n          </form>\n        )}\n      </Mutation>\n    )\n  }\n}\n\nexport default UpdateTodo\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAEA;AACA;AAQA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AAKA;AACA;AADA;AADA;AACA;AALA;AAIA;AAMA;AACA;AAAA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAaA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATA;AAeA;;;;AAvCA;AACA;AAyCA;;;;A","sourceRoot":""}